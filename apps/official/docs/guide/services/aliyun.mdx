# 阿里云

import { PackageManagerTabs } from 'rspress/theme';
import { Button } from '@/components/ui/Button';
import { FileCode2Icon, SquareArrowOutUpRightIcon  } from 'lucide-react'

<div className="flex space-x-2 items-center">    
    <a className="flex space-x-1 items-center" href="https://github.com/hikestack/hike/tree/main/packages/aliyun" target="_blank">
        <Button variant="secondary" size="sm">      
             <span>源码</span>
            <FileCode2Icon className="w-4 h-4 ml-1" />
        </Button>
    </a>
   
    <a className="flex space-x-1 items-center" href="/official/reference/aliyun/globals">
        <Button variant="secondary" size="sm">
            <span>API 参考</span>
            <SquareArrowOutUpRightIcon className="w-4 h-4 ml-1" />
        </Button>
    </a>
</div>

```AliyunModule```是一个为 NestJS 集成阿里云云服务的模块。

## 安装
 
<PackageManagerTabs command="install @hikestack/aliyun" />

:::tip 提示
安装对应的依赖
:::

<PackageManagerTabs command="install ali-oss" />

## 使用

### 对象存储

```ts
import { ok } from "@/core";
import {
	AnyFilesInterceptor,
	MemoryStorageFile,
	UploadedFiles,
} from "@blazity/nest-file-fastify";
import { AliyunService } from "@hikestack/aliyun";
import { Controller, Post, UseInterceptors } from "@nestjs/common";

@Controller("file")
export class FileController {
	constructor(private readonly aliyunService: AliyunService) {}

	@Post("upload")
	@UseInterceptors(AnyFilesInterceptor())
	async uploadFile(@UploadedFiles() files: MemoryStorageFile[]) {
		const res = await this.aliyunService.OSS.put("avatar.png", files[0]);
		return ok(res);
	}
}
```