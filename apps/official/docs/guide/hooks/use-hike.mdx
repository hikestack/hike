# useHike

import { PackageManagerTabs } from 'rspress/theme';
import { Button } from '@/components/ui/Button';
import { FileCode2Icon, SquareArrowOutUpRightIcon  } from 'lucide-react'

<div className="flex space-x-2 items-center">    
    <a className="flex space-x-1 items-center" href="https://github.com/hikestack/hike/tree/main/packages/hooks/src/use-hike.ts" target="_blank">
        <Button variant="secondary" size="sm">      
             <span>源码</span>
            <FileCode2Icon className="w-4 h-4 ml-1" />
        </Button>
    </a>
   
    <a className="flex space-x-1 items-center" href="/official/reference/hooks/functions/useHike.html">
        <Button variant="secondary" size="sm">
            <span>API 参考</span>
            <SquareArrowOutUpRightIcon className="w-4 h-4 ml-1" />
        </Button>
    </a>
</div>

```useHike```是一个自定义的 React Hook，它利用 JavaScript 的 Proxy 对象和 WeakMap 来创建一个可观察的状态对象。当这个状态对象的任何属性（包括嵌套属性）发生变化时，useHike 会自动触发一个回调函数。

## 安装
 
<PackageManagerTabs command="install @hikestack/hooks" />

## 使用



```tsx pure
import React from "react";
import { useHike } from "@hikestack/hooks";

function App() {
	const state = useHike({
		count: 0,
		user: {
			name: "John Doe",
			age: 30,
		},
	});

	const handleChange = () => {
		// 更新嵌套状态
		state.user.name = "Roy Lin";
		// 这将触发状态更新回调，导致组件重新渲染
	};

	return (
		<div>
			<p>User Name: {state.user.name}</p>
			<p>User Age: {state.user.age}</p>
			<button onClick={handleChange}>修改名称为: Roy Lin</button>
			<br />
			<button onClick={() => state.count++}>点击增加计数: {state.count}</button>
		</div>
	);
}

export default App;
```


<code src="./demos/use-hike/demo.tsx"/>
